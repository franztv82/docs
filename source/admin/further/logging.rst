.. _logging:

=======
Logging
=======

When using `helfertoolctl`, the log file is written to ``/var/log/helfertool`` and automatically rotated.

It looks like this:

.. code-block:: none

   Feb 29 13:00:00 helfertool INFO login successful (user="admin" ip="1.2.3.4")
   Feb 29 13:05:00 helfertool INFO export (user="admin" type="pdf" file="Test Event - Example Job.pdf" date="2020-04-01" event_url="test" event_pk="1" job_name="Example Job" job_pk="42")

.. note::

   The timestamps are UTC - this maybe changes in the future.

The following events are currently logged:

+---------------------------+--------------+--------------------------------------------------------+
| Event                     | Severity     | Decription                                             |
+===========================+==============+========================================================+
| mail sent                 | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| mail error                | error        |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| mail handled              | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| newsletter subscribe      | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| newsletter validated      | info         | Link in confirmation mail was clicked (GDPR)           |
+---------------------------+--------------+--------------------------------------------------------+
| newsletter unsubscribe    | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| newsletter mailerror      | error        | Validation mail during subscription failed.            |
|                           |              | Not triggered when newsletter is sent.                 |
+---------------------------+--------------+--------------------------------------------------------+
| newsletter sent           | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| newsletter removed        | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| settings changed          | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| export                    | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| password changed          | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| user created              | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| user deleted              | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| user merged               | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| event created             | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| event changed             | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| event deleted             | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| event archived            | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| event moved               | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| event adminadded          | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| event adminchanged        | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| event adminremoved        | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| useragreement created     | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| useragreement changed     | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| useragreement deleted     | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| useragreement accepted    | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| permission granted        | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| permission revoked        | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| login successful          | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| login failed              | warn         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| user locked               | warn         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| link created              | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| link changed              | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| link deleted              | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper merged             | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| giftsettings changed      | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| gift created              | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| gift changed              | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| gift deleted              | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| giftset created           | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| giftset changed           | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| giftset deleted           | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper registered         | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper validated          | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper deregistered       | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper dataupdated        | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper changed            | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper created            | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper newshift           | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper newjob             | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper deleted            | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper confirmationmail   | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper mailerror          | error        |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper internalcomment    | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper prerequisites      | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper giftset            | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper presence           | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| helper coronadata         | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| job created               | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| job changed               | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| job deleted               | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| job sorted                | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| prerequisite created      | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| prerequisite changed      | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| prerequisite deleted      | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| corona settings           | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| corona export             | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+
| corona cleanup            | info         |                                                        |
+---------------------------+--------------+--------------------------------------------------------+

